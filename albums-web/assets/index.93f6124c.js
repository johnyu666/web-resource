import{r as b,o as c,c as a,a as o,b as i,w as f,p as g,d as S,e as h,n as y,F as d,f as v,t as _,g as $,h as A,i as k}from"./vendor.2a4f4dbf.js";const x=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function l(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(t){if(t.ep)return;t.ep=!0;const n=l(t);fetch(t.href,n)}};x();var p=(e,r)=>{const l=e.__vccOpts||e;for(const[u,t]of r)l[u]=t;return l};const I={created(){console.log("ok.....");let e={items:[],total:0};localStorage.setItem("cart",JSON.stringify(e))}},C=e=>(g("data-v-40621318"),e=e(),S(),e),N={id:"wraper"},O=h("\u5C55\u793A\u533A"),w=h("\u67E5\u770B\u8D2D\u7269\u8F66"),L=h("\u5236\u4F5C\u56E2\u961F"),J=C(()=>o("footer",null,null,-1));function j(e,r,l,u,t,n){const s=b("router-link"),m=b("router-view");return c(),a("div",N,[o("header",null,[o("ul",null,[o("li",null,[i(s,{to:"/"},{default:f(()=>[O]),_:1})]),o("li",null,[i(s,{to:"/cart"},{default:f(()=>[w]),_:1})]),o("li",null,[i(s,{to:"/about"},{default:f(()=>[L]),_:1})])])]),i(m),J])}var B=p(I,[["render",j],["__scopeId","data-v-40621318"]]);const E={data(){return{albums:[],cats:[],selectedAlbums:[],catCurrent:!1,currentStyle:"all"}},mounted(){fetch("http://johnyu.cn:3000/albums").then(e=>e.json()).then(e=>{this.albums=e,this.selectedAlbums=[...e];let r=[];this.albums.forEach(l=>{r.push(...l.style)}),this.cats=[...new Set(r)]})},methods:{selectAll(){this.selectedAlbums=this.albums},select(e){this.currentStyle=e,this.selectedAlbums=this.albums.filter(r=>r.style.includes(e))},save(e){let r=JSON.parse(localStorage.getItem("cart")),l=r.items.findIndex(u=>u.id===e.id);l<0?(e.count=1,r.items.push(e)):r.items[l].count+=1,localStorage.setItem("cart",JSON.stringify(r))}}},F=["onClick"],H={id:"content"},V={class:"album"},P=["src"],q=["onClick"];function z(e,r,l,u,t,n){return c(),a("main",null,[o("aside",null,[o("ul",null,[o("li",{class:y({current:t.currentStyle==="all"}),onClick:r[0]||(r[0]=(...s)=>n.selectAll&&n.selectAll(...s))},"all",2),(c(!0),a(d,null,v(t.cats,s=>(c(),a("li",{class:y({current:t.currentStyle===s}),onClick:m=>n.select(s)},_(s),11,F))),256))])]),o("div",H,[(c(!0),a(d,null,v(t.selectedAlbums,s=>(c(),a("div",V,[o("img",{src:s.img,alt:""},null,8,P),o("span",null,_(s.name),1),o("button",{onClick:m=>n.save(s),class:"btn btn-primary"},"\u52A0\u5165\u8D2D\u7269\u8F66",8,q)]))),256))])])}var D=p(E,[["render",z],["__scopeId","data-v-59c51350"]]);const K={data(){return{cart:{}}},mounted(){let e=JSON.parse(localStorage.getItem("cart"));this.cart=e}},M=o("h1",null,"\u8D2D\u7269\u8F66\u7BA1\u7406\u5668",-1);function R(e,r,l,u,t,n){return c(),a(d,null,[M,o("table",null,[o("tbody",null,[(c(!0),a(d,null,v(t.cart.items,s=>(c(),a("tr",null,[o("td",null,_(s.name),1),o("td",null,_(s.count),1)]))),256))])])],64)}var T=p(K,[["render",R]]);const W={};function G(e,r){return c(),a("h1",null,"\u5173\u4E8E\u5236\u4F5C\u56E2\u961F")}var Q=p(W,[["render",G]]);const U=[{path:"/",component:D},{path:"/cart",component:T},{path:"/about",component:Q}],X=$({history:A(),routes:U});k(B).use(X).mount("#app");
